# Story: Exploring Oracle Identity Columns

In Oracle, identity columns automate ID generation, similar to auto-increment in other databases.  
Behind the scenes, Oracle creates a **hidden sequence** with a name like `ISEQ$$_74510`.

This demo explores different identity options.

---

## Case 1: Basic Identity
```sql
CREATE TABLE temp (
    ID NUMBER GENERATED AS IDENTITY,
    text VARCHAR2(100)
);

üëâ Generates values automatically but allows overrides.
We then drop the table to test other options.

Case 2: ALWAYS
CREATE TABLE temp (
    ID NUMBER GENERATED ALWAYS AS IDENTITY,
    text VARCHAR2(100)
);


üëâ Oracle will always generate values; you cannot insert your own IDs.

Case 3: BY DEFAULT
CREATE TABLE temp (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
    text VARCHAR2(100)
);


üëâ Oracle generates values unless you explicitly supply one.

Case 4: BY DEFAULT ON NULL
CREATE TABLE temp (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    text VARCHAR2(100)
);


üëâ If you pass NULL, Oracle generates a value.
If you pass a number, Oracle uses it.

Case 5: Custom START and INCREMENT
CREATE TABLE temp (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY
       START WITH 50 INCREMENT BY 3,
    text VARCHAR2(100)
);


Insert test rows:

INSERT INTO temp (ID, text) VALUES (1, 'Test with 1');         -- Explicit value
INSERT INTO temp (ID, text) VALUES (20, 'Test with 20');       -- Explicit value
INSERT INTO temp (ID, text) VALUES (NULL, 'Test with NULL');   -- Oracle generates ID
INSERT INTO temp (text)     VALUES ('Test with No Value');     -- Oracle generates ID


Check results:

SELECT * FROM temp;

Inspecting the Hidden Sequence

Every identity column is backed by a hidden sequence (e.g., ISEQ$$_74510).

SELECT * FROM user_objects WHERE object_name = 'ISEQ$$_74510';
SELECT * FROM user_sequences WHERE sequence_name = 'ISEQ$$_74510';
SELECT ISEQ$$_74510.NEXTVAL FROM dual;


‚ö†Ô∏è The exact sequence name will differ in your environment. First query it, then replace the name accordingly.

Cleanup
DROP TABLE temp;
PURGE RECYCLEBIN;

‚úÖ Recap

GENERATED AS IDENTITY ‚Üí default behavior.

ALWAYS ‚Üí Oracle controls IDs completely.

BY DEFAULT ‚Üí Oracle generates unless you supply a value.

BY DEFAULT ON NULL ‚Üí Oracle generates only when the ID is NULL.

Custom start and increment values make identity columns flexible.
